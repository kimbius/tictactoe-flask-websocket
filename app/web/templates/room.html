{% include 'partials/head.html' %}

<style>
  .loader {
    width: 48px;
    height: 48px;
    border: 3px solid #fff;
    border-radius: 50%;
    display: inline-block;
    position: relative;
    box-sizing: border-box;
    animation: rotation 1s linear infinite;
  }
  .loader::after {
    content: "";
    box-sizing: border-box;
    position: absolute;
    left: 0;
    top: 0;
    background: #ff3d00;
    width: 16px;
    height: 16px;
    transform: translate(-50%, 50%);
    border-radius: 50%;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  svg {
    width: 4em;
    height: 4em;
  }
</style>

<div
  id="waiting_overlay"
  class="z-50 fixed bg-black h-full w-full left-0 top-0"
>
  <div
    class="text-white h-screen flex flex-col items-center justify-center gap-6"
  >
    <span class="loader"></span>
    <p>Waiting for server</p>
  </div>
</div>

<div
  class="w-full h-auto fixed flex items-center justify-center z-10 left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2"
>
  <div
    class="w-full max-w-xs sm:max-w-sm md:max-w-md h-full flex flex-col gap-2"
  >
    <div id="room_id_parent" class="mx-auto mb-4">
      <h1
        id="room_id"
        class="font-bold text-gray-800 text-xl font-bold rounded-full px-4 py-2 bg-white"
      >
        Unknown
      </h1>
    </div>
    <div class="flex justify-between text-white">
      <div class="text-left">
        <p class="text-3xl font-bold" id="player1_state"></p>
        <h2 class="text-xs" id="player1_txt">None</h2>
      </div>
      <div class="text-right">
        <p class="text-3xl font-bold" id="player2_state"></p>
        <h2 class="text-xs" id="player2_txt">None</h2>
      </div>
    </div>
    <div class="grid grid-cols-3 gap-2" id="grid"></div>
    <div class="mx-auto" id="btn_group">
      <button
        id="share_btn"
        class="mt-2 active:scale-105 transition-all duration-100 px-4 py-2 bg-amber-400 hover:bg-amber-500 font-bold text-white rounded-full text-base uppercase"
      >
        แชร์ห้อง
      </button>
      <button
        onclick="location.replace('/')"
        id="leave_btn"
        class="mt-2 active:scale-105 transition-all duration-100 px-4 py-2 bg-amber-400 hover:bg-amber-500 font-bold text-white rounded-full text-base uppercase"
      >
        ออกห้อง
      </button>
    </div>
  </div>
</div>

<div class="z-0 fixed h-full w-full left-0 top-0 flex">
  <div id="player1_side" class="w-1/2 bg-blue-600 h-full duration-500"></div>
  <div id="player2_side" class="w-1/2 bg-red-600 h-full duration-500"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
<script defer src="/static/main.js"></script>

{% include 'partials/foot.html' %}
